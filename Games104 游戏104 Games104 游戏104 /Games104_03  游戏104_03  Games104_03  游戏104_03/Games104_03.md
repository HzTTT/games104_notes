# How to Build a Game World

## 1 What does a game world consist of?

#### 	1.1 Dynamic Game Objects(åŠ¨æ€ç‰©)

#### 	1.2 Static game object(é™æ€ç‰©)

#### 	1.3 Environmen(ç¯å¢ƒ)

- sky	
- vegetation

- Terrain

#### 	1.4 Other Game Objects

- Air wall

- Ruler

- Trigger Area(è§¦å‘åŒºåŸŸ)<!--æ¯”å¦‚åˆ°å•¦ç‰¹å®šåœ°åŒºå°±ä¼šåŠ è½½åœ°å›¾-->



## 2 How should we describe these thing?

#### 2.1 Game Object

- Property(å±æ€§)

- Behavior(è¡Œä¸º) <!--ç±»æ¯”äºé¢å‘å¯¹è±¡çš„ç±»-->
-  Inheritance(ç»§æ‰¿)

**ä¼šæœ‰é¢å‘å¯¹è±¡æ™®éå­˜åœ¨çš„é—®é¢˜ï¼šå¤šç»§æ‰¿**

#### 2.2 Component Base (ç»„ä»¶åŒ–)

eg:

![Screenshot 2023-04-17 at 20.10.44](./image/Screenshot 2023-04-17 at 20.10.44.png)

**å®Œç¾è§£å†³ä¸Šé¢é—®é¢˜ï¼Œç›®å‰æ¯”è¾ƒæµè¡Œã€‚**



### 2.3 Takeaways

- Everything is a game object  in the game world 
- Game object could be described in the component-based way



## 3.How to Make the World Alive?

#### 3.1 Object-based Tick 

<!--å¯¹è±¡åŠ¨-->

![Screenshot 2023-04-17 at 21.32.17](./image/Screenshot 2023-04-17 at 21.32.17.png)

#### 3.2 Component-based Tick

<!--ç»„ä»¶åŠ¨-->

![Screenshot 2023-04-17 at 21.34.58](./image/Screenshot 2023-04-17 at 21.34.58.png)

#### 3.3 Object-based Tick ğŸ†š Component-based Tick

- ##### Object-based

  - Simple and <u>intuitive</u>(ç›´è§‚)

  - Easy to debug

    ![Screenshot 2023-04-17 at 21.44.19](/Users/chh/Documents/Game104/Games104_03/image/Screenshot 2023-04-17 at 21.44.19.png)

- ##### Component-based Tick

  - Parallelized processing (å¹¶è¡Œå¤„ç†)

  - Reduced cache miss (å‡å°‘ç¼“å­˜ä¸¢å¤±)

    ![Screenshot 2023-04-17 at 21.45.03](/Users/chh/Documents/Game104/Games104_03/image/Screenshot 2023-04-17 at 21.45.03.png)

  **ä¸€èˆ¬ä¼šç”¨Component-based Tickï¼Œå› ä¸ºè¿™æ ·å¯ä»¥æŠŠåŒæ ·çš„æ•°æ®æ”¾åœ¨ä¸€èµ·å¤„ç†ï¼Œè¿™æ ·è¯»å†™å’Œå¤„ç†æ•ˆç‡æœ€é«˜ã€‚**

## 4.How are these things organized?

- #### Hardcode

  å†™å¾ˆå¤šæ¡ä»¶åˆ¤æ–­å»æ£€æµ‹æ¯ä¸ªå¯¹è±¡ä¹‹é—´çš„äº’åŠ¨

  éº»çƒ¦éå¸¸ä¸æ–¹ä¾¿

  ![Screenshot 2023-04-17 at 22.00.43](/Users/chh/Documents/Game104/Games104_03/image/Screenshot 2023-04-17 at 22.00.43.png)

- #### Event

  - Message sending and handling
  - Decoupling(ç»“å¶) event sending and handing ï¼ˆè®©äº‹ä»¶çš„å‘ç”Ÿå’Œå¤„ç†åˆ†ç¦»ï¼‰

### 5. How to Manage Game Object?

#### 	5.1 Scene Management 

- Game objects are managed in a scene

-  Game object query

  - By unique game object ID
  - By object position  

- Simple space segmentation(ç®€å•çš„ç©ºé—´åˆ†éš”)

  - ä¸å¥½ï¼Œå› ä¸ºåœºæ™¯ä¸­çš„GOä¼šåˆ†å¸ƒä¸å‡

  ![Screenshot 2023-04-17 at 22.31.59](/Users/chh/Documents/Game104/Games104_03/image/Screenshot 2023-04-17 at 22.31.59.png)

- Segmented space by object clusters (é€šè¿‡GOçš„é›†ç¾¤åˆ†éš”)

  ![Screenshot 2023-04-17 at 22.35.54](/Users/chh/Documents/Game104/Games104_03/image/Screenshot 2023-04-17 at 22.35.54.png)

- Hierarchical segmentation (åˆ†å±‚åˆ†å‰²)

  - å››å‰æ ‘åˆ†å‰²

  ![Screenshot 2023-04-17 at 22.37.02](/Users/chh/Documents/Game104/Games104_03/image/Screenshot 2023-04-17 at 22.37.02.png)

- â€‹	Spatial Data Structures

  ![Screenshot 2023-04-17 at 22.39.05](/Users/chh/Documents/Game104/Games104_03/image/Screenshot 2023-04-17 at 22.39.05.png)

##  6. Takeaways

- ####  Everything is a object

- #### Game object could be described in the component-based way

- #### States of game object are updated in tick loops

- #### Game objects interact with each other <u>via event mechanism</u>(è™šæ‹Ÿäº‹ä»¶æœºåˆ¶)

- #### Game object are managed in a scene with efficient <u>strategies</u>(ç­–ç•¥) 

## 7. ç‰©ä½“ä¹‹é—´çš„ç»‘å®š

- #### 	tickçš„å…ˆåé¡ºåº

- #### å¹¶è¡Œï¼Œå¼•å…¥é‚®å±€ï¼ˆä½¿æ—¶åºä¸¥æ ¼ä¸€è‡´ï¼Œçº¿ç¨‹åŒæ­¥ï¼‰

![Screenshot 2023-04-17 at 23.32.51](/Users/chh/Documents/Game104/Games104_03/image/Screenshot 2023-04-17 at 23.32.51.png)

